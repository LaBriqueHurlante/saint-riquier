<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Chevelure de Bérénice - Curiosity</title>
<link href="../css/Style.css" rel="stylesheet" type="text/css">
<style>

.plume-svg {
	position:absolute;
	top:0;
	left:0;
	z-index:0;	
	}


</style>
<script src="../js/jquery-1.11.2.min.js"></script>
<script src="../js/scroll.js"></script>
<script src="../js/interact-1.2.4.js"></script>
</head>

<body>
<nav> <a href="#section1">Section 1</a> <a href="#section2">Section 2</a> </nav>
<section class="page">

    <section id="section1" class="section section1">

        <h1>Chevelure de Bérénice - Curiosity</h1>
        
        <object class="plume-svg" type="image/svg+xml" data="../css/img/plumes/berenice-ecran1.svg" width="2048" height="1536"></object>

    </section>
    <!--section premiere-->
    
    <section id="section2" class="section section2">

        <h1>Jeux</h1>
         <object class="plume-svg" type="image/svg+xml" data="../css/img/plumes/berenice-ecran2.svg" width="2048" height="1536"></object>

      </section>
    <!--section secondaire--> 

</section>
<!--section principale--> 

<script>
$(document).ready(function(){
	
//On créé une fonction pour générer une plume
function creaPlume(){
	
//taille aléatoire
var divsize = ((Math.random()*170) + 50).toFixed();

//rotation aléatoire (voir son CSS ci-dessous)
var rotaPlume = Math.floor((Math.random() * -60) + 1);

//on génère une plume en créant une div, avec son CSS
$plume = $('<div class="draggable">').css({
	'width':divsize+'px',
	'height':divsize+'px',
	'background-image': 'url(../css/img/plume1.png)',
	'background-size': '100%'
});

// Dans la section2, on définit une position absolue aléatoire
	var posx = (Math.random() * ($('#section2').width() - divsize)).toFixed();
    var posy = (Math.random() * ($('#section2').height() - divsize)).toFixed();

$plume.css({
	    'position':'absolute',
        'left':posx+'px',
        'top':posy+'px',
		'transform':'rotate('+rotaPlume+'deg)'

//On fait apparaitre tout ça dans la section2
}).appendTo( 
		'#section2' 
		
)}

//On créé 6 plumes avec la condition IF
for ($i = 1 ; $i < 50 ; $i++) {

creaPlume(); //La fonction qui créé la plume, qui va se répéter 6 fois.

}

});

</script>

<script>
interact('.draggable')
.draggable({
    // enable inertial throwing
    inertia: true,
    // keep the element within the area of it's parent
    restrict: {
      restriction: "parent",
      endOnly: true,
      elementRect: { top: 0, left: 0, bottom: 1, right: 1 }
    },

    // call this function on every dragmove event
    onmove: dragMoveListener,
    // call this function on every dragend event
    onend: function (event) {
      var textEl = event.target.querySelector('p');

      textEl && (textEl.textContent =
        'moved a distance of '
        + (Math.sqrt(event.dx * event.dx +
                     event.dy * event.dy)|0) + 'px');
    }
  });

  function dragMoveListener (event) {
    var target = event.target,
        // keep the dragged position in the data-x/data-y attributes
        x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
        y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

    // translate the element
    target.style.webkitTransform =
    target.style.transform =
      'translate(' + x + 'px, ' + y + 'px)';

    // update the posiion attributes
    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  }

  // this is used later in the resizing demo
  window.dragMoveListener = dragMoveListener

</script>
</body>
</html>
